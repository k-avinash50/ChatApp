{"remainingRequest":"/home/administrator/Downloads/pl/pla/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/administrator/Downloads/pl/pla/src/components/chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/administrator/Downloads/pl/pla/src/components/chat.vue","mtime":1615554648699},{"path":"/home/administrator/Downloads/pl/pla/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrator/Downloads/pl/pla/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/administrator/Downloads/pl/pla/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrator/Downloads/pl/pla/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgdGV4dDEyOiAiIiwKICAgICAgcGFydGljaXBhbnRzOiBbCiAgICAgICAgewogICAgICAgICAgaWQ6ICJ1c2VyMSIsCiAgICAgICAgICBuYW1lOiAiQXZpbmFzaCIsCiAgICAgICAgICBpbWFnZVVybDogImh0dHBzOi8vYXZhdGFyczMuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3UvMTkxNTk4OT9zPTIzMCZ2PTQiCiAgICAgICAgfSwKICAgICAgXSwgCiAgICAgIHRpdGxlSW1hZ2VVcmw6ICJodHRwczovL2Euc2xhY2stZWRnZS5jb20vNjZmOS9pbWcvYXZhdGFycy10ZWFtcy9hdmFfMDAwMS0zNC5wbmciLAogICAgICBtZXNzYWdlTGlzdDogWwogICAgICBdLAogICAgICBuZXdNZXNzYWdlc0NvdW50OiAwLAogICAgICBpc0NoYXRPcGVuOiBmYWxzZSwgCiAgICAgIHNob3dUeXBpbmdJbmRpY2F0b3I6ICIiLAogICAgICBjb2xvcnM6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIGJnOiAiIzRlOGNmZiIsCiAgICAgICAgICB0ZXh0OiAiI2ZmZmZmZiIKICAgICAgICB9LAogICAgICAgIGxhdW5jaGVyOiB7CiAgICAgICAgICBiZzogIiM0ZThjZmYiCiAgICAgICAgfSwKICAgICAgICBtZXNzYWdlTGlzdDogewogICAgICAgICAgYmc6ICIjZmZmZmZmIgogICAgICAgIH0sCiAgICAgICAgc2VudE1lc3NhZ2U6IHsKICAgICAgICAgIGJnOiAiIzRlOGNmZiIsCiAgICAgICAgICB0ZXh0OiAiI2ZmZmZmZiIKICAgICAgICB9LAogICAgICAgIHJlY2VpdmVkTWVzc2FnZTogewogICAgICAgICAgYmc6ICIjZWFlYWVhIiwKICAgICAgICAgIHRleHQ6ICIjMjIyMjIyIgogICAgICAgIH0sCiAgICAgICAgdXNlcklucHV0OiB7CiAgICAgICAgICBiZzogIiNmNGY3ZjkiLAogICAgICAgICAgdGV4dDogIiM1NjU4NjciCiAgICAgICAgfQogICAgICB9LAogICAgICBhbHdheXNTY3JvbGxUb0JvdHRvbTogZmFsc2UsCiAgICAgIG1lc3NhZ2VTdHlsaW5nOiB0cnVlLAogICAgICBjbGllbnQ6ICIiLAogICAgICBjb246ICIiLAogICAgICBub0RlYWxlYXI6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kTWVzc2FnZSAodGV4dCkgewogICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5uZXdNZXNzYWdlc0NvdW50ID0gdGhpcy5pc0NoYXRPcGVuID8gdGhpcy5uZXdNZXNzYWdlc0NvdW50IDogdGhpcy5uZXdNZXNzYWdlc0NvdW50ICsgMQogICAgICAgIHRoaXMub25NZXNzYWdlV2FzU2VudCh7IGF1dGhvcjogInN1cHBvcnQiLCB0eXBlOiAidGV4dCIsIGRhdGE6IHsgdGV4dCB9IH0pCiAgICAgIH0KICAgIH0sCiAgICBkZWFsZXJOb3RGb3VuZCgpIHsKICAgICAgaWYgKHRoaXMubm9EZWFsZWFyPT09ZmFsc2UpeyAgIAogICAgICAgIGxldCBtZXNzYWdlUmVjZWl2ZWQgPSB7IGF1dGhvcjogInVzZXIyIiwgdHlwZTogInRleHQiLCBkYXRhOiAgeyB0ZXh0OiJEZWFsZXIgaXMgbm90IGF2YWlsYWJsZSIgfSB9CiAgICAgICAgdGhpcy5tZXNzYWdlTGlzdC5wdXNoKG1lc3NhZ2VSZWNlaXZlZCkKICAgICAgICB0aGlzLm1lc3NhZ2VMaXN0LnB1c2goeyBhdXRob3I6ICJ1c2VyMiIsIHR5cGU6ICJ0ZXh0IiwgZGF0YTogIHsgdGV4dDoiUGxlYXNlIHNoYXJlIHlvdXIgTmFtZSwgQ29udGFjdCBOdW1lciBhbmQgRW1haWwuIFNvIHRoYXQgRGVhbGFyIGNhbiBjb250YWN0IHlvdSBzb29uLiIgfSB9KQogICAgICB9CiAgICB9LAogICAgYXN5bmMgb25NZXNzYWdlV2FzU2VudCAobWVzc2FnZSkgewogICAgICB0aGlzLmNvbi5zZW5kTWVzc2FnZShtZXNzYWdlLmRhdGEudGV4dCkKICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHRoaXMuZGVsZXJOb3RGb3VuZCgpLCA1MDAwICApOwogICAgICB0aGlzLm1lc3NhZ2VMaXN0ID0gWyAuLi50aGlzLm1lc3NhZ2VMaXN0LCBtZXNzYWdlIF0KICAgIH0sCiAgICBjYWxsT24oeHl6KXsKICAgICAgICBpZiAoeHl6LmF1dGhvciE9PSJzaWRkaGFydGhhIikgewogICAgICAgICAgY29uc29sZS5sb2coeHl6LnN0YXRlKQogICAgICAgICAgbGV0IG1zZ1JlY2l2ZWQgPSB4eXouc3RhdGUuYm9keQogICAgICAgICAgbGV0IG1lc3NhZ2VSZWNlaXZlZCA9IHsgYXV0aG9yOiAidXNlcjEiLCB0eXBlOiAidGV4dCIsIGRhdGE6ICB7IHRleHQ6bXNnUmVjaXZlZCB9IH0KICAgICAgICAgIHRoaXMubWVzc2FnZUxpc3QucHVzaChtZXNzYWdlUmVjZWl2ZWQpCiAgICAgICAgICB0aGlzLm5vRGVhbGVhciA9dHJ1ZQogICAgICAgIH0KICAgICAgICAvLyBpZiAoeHl6LmF1dGhvcj09InJvaGl0Iil7CiAgICAgICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGVhbGVyTm90Rm91bmQoKSwgMTAwMDAgICk7CiAgICAgICAgLy8gfQogICAgfSwKICAgIGFzeW5jIG9wZW5DaGF0ICgpIHsKICAgICAgdGhpcy5pc0NoYXRPcGVuID0gdHJ1ZQogICAgICB0aGlzLm5ld01lc3NhZ2VzQ291bnQgPSAwCiAgICAgIHRoaXMuY2xpZW50ID0gYXdhaXQgVHdpbGlvLkNvbnZlcnNhdGlvbnMuQ2xpZW50LmNyZWF0ZSgiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0lzSW1OMGVTSTZJblIzYVd4cGJ5MW1jR0U3ZGoweEluMC5leUpxZEdraU9pSlRTek5sWXpobE9XWTNPRFpsWWpka05EVTFZbVppTXpnNU1tUTNNamd6TW1VeExURTJNVFUxTlRFMk1Ea2lMQ0puY21GdWRITWlPbnNpYVdSbGJuUnBkSGtpT2lKemFXUmthR0Z5ZEdoaElpd2lZMmhoZENJNmV5SnpaWEoyYVdObFgzTnBaQ0k2SWtsVFlqSmlPRE0xWW1Vell6STVORGRrTlRsa1ptVTNObVJtWWprd1pESXpZemNpZlgwc0ltbGhkQ0k2TVRZeE5UVTFNVFl3T1N3aVpYaHdJam94TmpFMU5UVTFNakE1TENKcGMzTWlPaUpUU3pObFl6aGxPV1kzT0RabFlqZGtORFUxWW1aaU16ZzVNbVEzTWpnek1tVXhJaXdpYzNWaUlqb2lRVU16TnpWaFkyWTFaRFkxTTJNelpEbGlNekpoT0dRd05qTTVaV05tTkRZMVppSjkuWVlSdnUxZ2NYVWx5TVNFaVpsb3g0WmtxMGo5ZXdGTURSTkJIYmk1YzVxRSIpOwogICAgICB0aGlzLmNsaWVudC5nZXRTdWJzY3JpYmVkQ29udmVyc2F0aW9ucygpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2xpZW50LnVzZXIuaWRlbnRpdHkpCiAgICAgIHRoaXMuY29uPSBhd2FpdCB0aGlzLmNsaWVudC5nZXRDb252ZXJzYXRpb25CeVNpZCgiQ0hlYTZhYzQ3OWMzNWQ0YmJhYjc2MzE5NDkyMjdlOGMyOSIpCiAgICAgIC8vIGF3YWl0IHRoaXMuY29uLmFkZCh0aGlzLmNsaWVudC51c2VyLmlkZW50aXR5KQogICAgICAvLyBhd2FpdCB0aGlzLmNvbi5hZGQoInJvaGl0IikKICAgICAgdGhpcy5jb24ub24oIm1lc3NhZ2VBZGRlZCIsKHh5eikgPT4gdGhpcy5jYWxsT24oeHl6KSkKICAgIH0sCiAgICBhc3luYyBjbG9zZUNoYXQgKCkgewogICAgICB0aGlzLmlzQ2hhdE9wZW4gPSBmYWxzZQogICAgICBhd2FpdCB0aGlzLmNvbi5sZWF2ZSgpCiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnNodXRkb3duKCkKICAgICAgY29uc29sZS5sb2codGhpcy5jbGllbnQpCiAgICB9LAogICAgaGFuZGxlU2Nyb2xsVG9Ub3AgKCkgewogICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgdXNlciBzY3JvbGxzIG1lc3NhZ2UgbGlzdCB0byB0b3AKICAgICAgLy8gbGV2ZXJhZ2UgcGFnaW5hdGlvbiBmb3IgbG9hZGluZyBhbm90aGVyIHBhZ2Ugb2YgbWVzc2FnZXMKICAgIH0sCiAgICBoYW5kbGVPblR5cGUgKCkgewogICAgICBjb25zb2xlLmxvZygiRW1pdCB0eXBpbmcgZXZlbnQiKQogICAgfSwKICAgIGVkaXRNZXNzYWdlKG1lc3NhZ2UpewogICAgICBjb25zdCBtID0gdGhpcy5tZXNzYWdlTGlzdC5maW5kKG09Pm0uaWQgPT09IG1lc3NhZ2UuaWQpOwogICAgICBtLmlzRWRpdGVkID0gdHJ1ZTsKICAgICAgbS5kYXRhLnRleHQgPSBtZXNzYWdlLmRhdGEudGV4dDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chat.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <beautiful-chat\n      :participants=\"participants\"\n      :titleImageUrl=\"titleImageUrl\"\n      :onMessageWasSent=\"onMessageWasSent\"\n      :messageList=\"messageList\"\n      :newMessagesCount=\"newMessagesCount\"\n      :isOpen=\"isChatOpen\"\n      :close=\"closeChat\"\n      :open=\"openChat\"\n      :showEmoji=\"true\"\n      :showFile=\"true\"\n      :showEdition=\"true\"\n      :showDeletion=\"true\"\n      :showTypingIndicator=\"showTypingIndicator\"\n      :showLauncher=\"true\"\n      :showCloseButton=\"true\"\n      :colors=\"colors\"\n      :alwaysScrollToBottom=\"alwaysScrollToBottom\"\n      :disableUserListToggle=\"false\"\n      :messageStyling=\"messageStyling\"\n      @onType=\"handleOnType\"\n      @edit=\"editMessage\"\n    />\n  </div>\n</template>\n<script>\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      /* eslint-disable */\n      text12: \"\",\n      participants: [\n        {\n          id: \"user1\",\n          name: \"Avinash\",\n          imageUrl: \"https://avatars3.githubusercontent.com/u/1915989?s=230&v=4\"\n        },\n      ], \n      titleImageUrl: \"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png\",\n      messageList: [\n      ],\n      newMessagesCount: 0,\n      isChatOpen: false, \n      showTypingIndicator: \"\",\n      colors: {\n        header: {\n          bg: \"#4e8cff\",\n          text: \"#ffffff\"\n        },\n        launcher: {\n          bg: \"#4e8cff\"\n        },\n        messageList: {\n          bg: \"#ffffff\"\n        },\n        sentMessage: {\n          bg: \"#4e8cff\",\n          text: \"#ffffff\"\n        },\n        receivedMessage: {\n          bg: \"#eaeaea\",\n          text: \"#222222\"\n        },\n        userInput: {\n          bg: \"#f4f7f9\",\n          text: \"#565867\"\n        }\n      },\n      alwaysScrollToBottom: false,\n      messageStyling: true,\n      client: \"\",\n      con: \"\",\n      noDealear: false\n    }\n  },\n  methods: {\n    sendMessage (text) {\n      if (text.length > 0) {\n        this.newMessagesCount = this.isChatOpen ? this.newMessagesCount : this.newMessagesCount + 1\n        this.onMessageWasSent({ author: \"support\", type: \"text\", data: { text } })\n      }\n    },\n    dealerNotFound() {\n      if (this.noDealear===false){   \n        let messageReceived = { author: \"user2\", type: \"text\", data:  { text:\"Dealer is not available\" } }\n        this.messageList.push(messageReceived)\n        this.messageList.push({ author: \"user2\", type: \"text\", data:  { text:\"Please share your Name, Contact Numer and Email. So that Dealar can contact you soon.\" } })\n      }\n    },\n    async onMessageWasSent (message) {\n      this.con.sendMessage(message.data.text)\n      //setTimeout(() => this.delerNotFound(), 5000  );\n      this.messageList = [ ...this.messageList, message ]\n    },\n    callOn(xyz){\n        if (xyz.author!==\"siddhartha\") {\n          console.log(xyz.state)\n          let msgRecived = xyz.state.body\n          let messageReceived = { author: \"user1\", type: \"text\", data:  { text:msgRecived } }\n          this.messageList.push(messageReceived)\n          this.noDealear =true\n        }\n        // if (xyz.author==\"rohit\"){\n        //   setTimeout(() => this.dealerNotFound(), 10000  );\n        // }\n    },\n    async openChat () {\n      this.isChatOpen = true\n      this.newMessagesCount = 0\n      this.client = await Twilio.Conversations.Client.create(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImN0eSI6InR3aWxpby1mcGE7dj0xIn0.eyJqdGkiOiJTSzNlYzhlOWY3ODZlYjdkNDU1YmZiMzg5MmQ3MjgzMmUxLTE2MTU1NTE2MDkiLCJncmFudHMiOnsiaWRlbnRpdHkiOiJzaWRkaGFydGhhIiwiY2hhdCI6eyJzZXJ2aWNlX3NpZCI6IklTYjJiODM1YmUzYzI5NDdkNTlkZmU3NmRmYjkwZDIzYzcifX0sImlhdCI6MTYxNTU1MTYwOSwiZXhwIjoxNjE1NTU1MjA5LCJpc3MiOiJTSzNlYzhlOWY3ODZlYjdkNDU1YmZiMzg5MmQ3MjgzMmUxIiwic3ViIjoiQUMzNzVhY2Y1ZDY1M2MzZDliMzJhOGQwNjM5ZWNmNDY1ZiJ9.YYRvu1gcXUlyMSEiZlox4Zkq0j9ewFMDRNBHbi5c5qE\");\n      this.client.getSubscribedConversations()\n      console.log(this.client.user.identity)\n      this.con= await this.client.getConversationBySid(\"CHea6ac479c35d4bbab7631949227e8c29\")\n      // await this.con.add(this.client.user.identity)\n      // await this.con.add(\"rohit\")\n      this.con.on(\"messageAdded\",(xyz) => this.callOn(xyz))\n    },\n    async closeChat () {\n      this.isChatOpen = false\n      await this.con.leave()\n      await this.client.shutdown()\n      console.log(this.client)\n    },\n    handleScrollToTop () {\n      // called when the user scrolls message list to top\n      // leverage pagination for loading another page of messages\n    },\n    handleOnType () {\n      console.log(\"Emit typing event\")\n    },\n    editMessage(message){\n      const m = this.messageList.find(m=>m.id === message.id);\n      m.isEdited = true;\n      m.data.text = message.data.text;\n    }\n  }\n}\n</script>"]}]}